<!DOCTYPE html>
<html>
	<head>
		<title>MY BLOG</title>
		<meta charset="utf-8" />
		<link rel="shortcut icon" href="../favicon.ico" /> 
		<link rel="stylesheet" type="text/css" href="../styles/main.css" />
		<link rel="stylesheet" type="text/css" href="../styles/demo.css" />
	</head>
	<body>
		<div class="wrapper">
			<div class="container">
				<div class="primary">
					<div class="header">
						<h1><a href="index.html"><span>ZHRJ</span>博客</a></h1>
						<p>······前端的路很长很长······</p>
						<ul class="nav">
							<li><a href="../index.html">首页</a></li>
							<li><a href="../demo.html">demo</a></li>
							<li><a href="../rebuild.html">网页重构</a></li>
							<li><a href="../aboutjs.html">javascript</a></li>
							<li><a href="../aboutme.html">关于我</a></li>
						</ul>
					</div>
					<div class="sider">
						<div class="sider-box blog-box">
							<h4>关注的博客</h4>
							<ul>
								<li><a href="http://www.zhangxinxu.com/wordpress/">张鑫旭博客</a></li>
								<li><a href="http://www.cssforest.org/blog/">CSS森林</a></li>
								<li><a href="http://coolshell.cn/">酷壳</a></li>
								<li><a href="http://www.qianduan.net/">前端观察</a></li>
							</ul>
						</div>
						<div class="sider-box paper-box">
							<h4>收藏的文章</h4>
							<ul>
								<li><a href="https://github.com/lifesinger/lifesinger.github.com/issues/105">最牛逼的 HTML 和 CSS 代码的背后</a></li>
								<li><a href="http://www.zhangxinxu.com/wordpress/2012/07/bottleneck-css-study/">说说CSS学习中的瓶颈</a></li>
							</ul>
						</div>
						<div class="sider-box me-box">
							<h4>联系我</h4>
							<ul>
								<li>博客园：<a href="http://www.cnblogs.com/zhrj000/">http://www.cnblogs.com/zhrj000/</a></li>
								<li>新浪微博：<a href="http://weibo.com/inthecorner">http://weibo.com/inthecorner</a></li>
								<li>网易邮箱：<a href="http://www.cnblogs.com/zhrj000/">zhrj000@163.com</a></li>
							</ul>
						</div>
					</div>
				</div>
				<div class="content">
					<div class="article">
						<h2>纸牌记忆配对</h2>
						<p class="posttime">——发表于2012/11/01 </p>
						<p>【查看纸牌记忆配对的  &gt;&gt;  <span class="demo">demo</span>】</p>
						<p>关于该demo的一些笔记：</p>
						<p>1)游戏纸牌第一次被点击，开始计时</p>
						<p>2)退出游戏，停止计时，再进入游戏页面时，也是第一次点击游戏在原来基础上计时</p>
						<p>3)可以replay游戏</p>
						<p>4)游戏保存有历史最高纪录，用html5的新API，localStorage本地存储数据</p>
						<p>5)在做纸牌配对的时候，遇到这样一个问题</p>
						<p>get到两个拥有相同类名的节点数组，然后逐个remove掉它们的类名，remove第一个的时候，正常，remove掉第二个的时候，出错了，找不到元素,于是在两个remove之间加入了两行代码，如下：</p>
<pre>var flippedcard=Mixiu.ClassUtil.getElementsByClassName(cards,"card-flipped");
console.log(flippedcard.length);
Mixiu.ClassUtil.removeClass(flippedcard[0],"card-flipped");
console.log(flippedcard.length);
Mixiu.ClassUtil.removeClass(flippedcard[1],"card-flipped");
</pre>
						<p>输出结果如下：</p>
<pre>2
1 
Uncaught TypeError: Cannot read property 'className' of undefined 
</pre>
						<p>找到原因：remove掉类名之后flippedcard的长度就会减一，所以还是要从后往前remove的好，不过具体是为什么呢？难道flippedcard每次调用都会重新去调用赋值语句？</p>
						
						
						
					</div>
				</div>
			</div>
			<div class="footer">Copyright © 2012 <a href="http://zhrj000.github.com/">zhrj000.github.com</a> All rights reserved.</div>
		</div>
		<div class="demoDiv">
			<div class="demoDivInner">
				<div class="close">×</div>
				<div class="article">
					<h2>纸牌记忆配对</h2>
					<p>第一次点击纸牌，游戏开始计时</p>
				</div>
				<div class="cardgame">
					<header>
						<h1>Getting Familiar with CSS3 Transiton</h1>
					</header>
					<div id="timer">
						Elapsed time:<span id="elapsed-time">00:00</span>
					</div>
					<section id="game">
						<div id="cards">
							<div class="card">
								<div class="face front"></div>
								<div class="face back"></div>
							</div>
						</div>
					</section>
					<section id="popup" class="hide">
						<div id="popup-bg"></div>
						<div id="popup-box">
							<div class="ribbon hide">
								<div class="ribbon-body">
									<span>New Record</span>
								</div>
								<div class="triangle"></div>
							</div>
							<div id="popup-box-content">
								<h2>You Won!</h2>
								<p>Your Score:</p>
								<p><span id="score">13</span></p>
								<p>
									历史最高纪录:<span id="last-score">20</span><br />
									Saved on:<span id="saved-time">13/4/2012 3:14pm</span>
								</p>
								<p><span id="replay">replay</span></p>
							</div>
						</div>
					</section>
					<footer>
						<p>This is an example of transitioning cards.</p>
					</footer>
				</div>
			</div>
		</div>
		<script type="text/javascript" src="../scripts/main.js"></script>
		<script type="text/javascript" src="../scripts/cardgame.js"></script>
	</body>
</html>